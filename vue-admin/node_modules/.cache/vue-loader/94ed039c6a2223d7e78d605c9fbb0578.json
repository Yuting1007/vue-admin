{"remainingRequest":"/Users/suyufeng/Desktop/FrontEnd/vue-admin/vue-admin/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/suyufeng/Desktop/FrontEnd/vue-admin/vue-admin/vue-admin/src/views/Login/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/suyufeng/Desktop/FrontEnd/vue-admin/vue-admin/vue-admin/src/views/Login/index.vue","mtime":1599197131989},{"path":"/Users/suyufeng/Desktop/FrontEnd/vue-admin/vue-admin/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":1599191324695},{"path":"/Users/suyufeng/Desktop/FrontEnd/vue-admin/vue-admin/vue-admin/node_modules/babel-loader/lib/index.js","mtime":1599191324387},{"path":"/Users/suyufeng/Desktop/FrontEnd/vue-admin/vue-admin/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":1599191324695},{"path":"/Users/suyufeng/Desktop/FrontEnd/vue-admin/vue-admin/vue-admin/node_modules/vue-loader/lib/index.js","mtime":1599191328080}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgdmFsaWRhdGVfZW1haWwsCiAgdmFsaWRhdGVfcGFzc3dvcmQsCiAgc3RyaXBzY3JpcHQKfSBmcm9tICJAL3V0aWxzL3ZhbGlkYXRlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YSgpIHsKICAgIC8vdmFsaWRhdGUgZW1haWwKICAgIGNvbnN0IHZhbGlkYXRlRW1haWwgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGxldCByZWdFbWFpbCA9IHZhbGlkYXRlX2VtYWlsKHZhbHVlKTsKICAgICAgaWYgKHZhbHVlID09PSAiIikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigiUGxlYXNlIGlucHV0IHRoZSBlbWFpbCIpKTsKICAgICAgfSBlbHNlIGlmICghcmVnRW1haWwpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIlBsZWFzZSBpbnB1dCB0aGUgZW1haWwgaW4gcmlnaHQgZm9ybWF0IikpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CiAgICAvL3ZhbGlkYXRlIHBhc3N3b3JkCiAgICBjb25zdCB2YWxpZGF0ZVBhc3N3b3JkID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICAvL2ZpbGx0ZXIgdGhlIGlucHV0CiAgICAgIHRoaXMucnVsZUZvcm0ucGFzc3dvcmQgPSBzdHJpcHNjcmlwdCh2YWx1ZSk7CiAgICAgIHZhbHVlID0gdGhpcy5ydWxlRm9ybS5wYXNzd29yZDsKICAgICAgbGV0IHJlZ1Bhc3N3b3JkID0gdmFsaWRhdGVfcGFzc3dvcmQodmFsdWUpOwogICAgICBpZiAodmFsdWUgPT09ICIiKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCJQbGVhc2UgaW5wdXQgdGhlIHBhc3N3b3JkIikpOwogICAgICB9IGVsc2UgaWYgKCFyZWdQYXNzd29yZCkgewogICAgICAgIGNhbGxiYWNrKAogICAgICAgICAgbmV3IEVycm9yKAogICAgICAgICAgICAiVGhlIGxlbmd0aCBtdXN0IGJlIGxhcmdlciB0aGFuIDUgYW5kIHNtYWxsZXIgdGhhbiAyMCwgaW5jbHVkaW5nIG51bWJlcnMgYW5kIGxldHRlcnMiCiAgICAgICAgICApCiAgICAgICAgKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwogICAgLy92YWxpZGF0ZSByZXR5cGUgcGFzc3dvcmQKICAgIGNvbnN0IHZhbGlkYXRlUmV0eXBlUGFzc3dvcmQgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIC8vZmlsbHRlciB0aGUgaW5wdXQKICAgICAgdGhpcy5ydWxlRm9ybS5wYXNzd29yZF9yZXR5cGUgPSBzdHJpcHNjcmlwdCh2YWx1ZSk7CiAgICAgIHZhbHVlID0gdGhpcy5ydWxlRm9ybS5wYXNzd29yZF9yZXR5cGU7CiAgICAgIGlmICh2YWx1ZSA9PT0gIiIpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoInBsZWFzZSByZXR5cGUgcGFzc3dvcmQiKSk7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT0gdGhpcy5ydWxlRm9ybS5wYXNzd29yZCkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigicmV0eXBlZCBwYXNzd29yZCBkb2Vzbid0IG1hdGNoIikpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CgogICAgLy92YWxpZGF0ZSBjb2RlCiAgICBjb25zdCB2YWxpZGF0ZUNvZGUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIC8vZmlsbHRlciB0aGUgaW5wdXQKICAgICAgdGhpcy5ydWxlRm9ybS5jb2RlID0gc3RyaXBzY3JpcHQodmFsdWUpOwogICAgICB2YWx1ZSA9IHRoaXMucnVsZUZvcm0uY29kZTsKICAgICAgaWYgKHZhbHVlID09PSAiIikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigiUGxlYXNlIGlucHV0IHRoZSBjb2RlIikpOwogICAgICB9IGVsc2UgaWYgKHZhbHVlLmxlbmd0aCAhPT0gNikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigiVGhlIGNvZGUgbXVzdCBiZSA2IGRpZ2l0cyBsb25nIikpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CiAgICByZXR1cm4gewogICAgICBtZW51VGFiOiBbCiAgICAgICAgeyB0eHQ6ICJMb2dpbiIsIGN1cnJlbnQ6IHRydWUsIHR5cGU6ICJsb2dpbiIgfSwKICAgICAgICB7IHR4dDogIlNpZ24gVXAiLCBjdXJyZW50OiBmYWxzZSwgdHlwZTogInJlZ2lzdGVyIiB9CiAgICAgIF0sCiAgICAgIG1vZGVsOiAibG9naW4iLAogICAgICBpc0FjdGl2ZTogdHJ1ZSwKICAgICAgLy9mb3JtIGRhdGEKICAgICAgcnVsZUZvcm06IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIHBhc3N3b3JkX3JldHlwZTogIiIsCiAgICAgICAgY29kZTogIiIKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBlbWFpbDogW3sgdmFsaWRhdG9yOiB2YWxpZGF0ZUVtYWlsLCB0cmlnZ2VyOiAiYmx1ciIgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7IHZhbGlkYXRvcjogdmFsaWRhdGVQYXNzd29yZCwgdHJpZ2dlcjogImJsdXIiIH1dLAogICAgICAgIHBhc3N3b3JkX3JldHlwZTogWwogICAgICAgICAgeyB2YWxpZGF0b3I6IHZhbGlkYXRlUmV0eXBlUGFzc3dvcmQsIHRyaWdnZXI6ICJibHVyIiB9CiAgICAgICAgXSwKICAgICAgICBjb2RlOiBbeyB2YWxpZGF0b3I6IHZhbGlkYXRlQ29kZSwgdHJpZ2dlcjogImJsdXIiIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGUoKSB7fSwKICBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgdG9nZ2xlTWVudShkYXRhKSB7CiAgICAgIHRoaXMubWVudVRhYi5mb3JFYWNoKGVsZW0gPT4gewogICAgICAgIGVsZW0uY3VycmVudCA9IGZhbHNlOwogICAgICB9KTsKICAgICAgZGF0YS5jdXJyZW50ID0gdHJ1ZTsKICAgICAgdGhpcy5tb2RlbCA9IGRhdGEudHlwZTsKICAgIH0sCiAgICAvL2Zvcm0gbWV0aG9kcwogICAgc3VibWl0Rm9ybShmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBhbGVydCgic3VibWl0ISIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3Igc3VibWl0ISEiKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Login","sourcesContent":["<template>\n  <div id=\"login\">\n    <div class=\"login-wrap\">\n      <ul class=\"menu-tab\">\n        <li\n          v-for=\"item in menuTab\"\n          :key=\"item.id\"\n          :class=\"{ current: item.current }\"\n          @click=\"toggleMenu(item)\"\n        >\n          {{ item.txt }}\n        </li>\n      </ul>\n      <!-- login form -->\n      <el-form\n        :model=\"ruleForm\"\n        status-icon\n        :rules=\"rules\"\n        ref=\"ruleForm\"\n        class=\"loginForm\"\n        size=\"medium\"\n      >\n        <el-form-item prop=\"email\" class=\"itemForm\">\n          <label>Email</label>\n          <el-input\n            type=\"text\"\n            v-model=\"ruleForm.email\"\n            autocomplete=\"off\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\" class=\"itemForm\">\n          <label>Password</label>\n          <el-input\n            type=\"password\"\n            v-model=\"ruleForm.password\"\n            autocomplete=\"off\"\n            minlength=\"6\"\n            maxlength=\"20\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item\n          prop=\"password_retype\"\n          class=\"itemForm\"\n          v-if=\"model === 'register'\"\n        >\n          <label>Retype Password</label>\n          <el-input\n            type=\"password\"\n            v-model=\"ruleForm.password_retype\"\n            autocomplete=\"off\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item prop=\"code\" class=\"itemForm\">\n          <label>Validation Code</label>\n          <el-row :gutter=\"11\">\n            <el-col :span=\"16\"\n              ><el-input\n                v-model=\"ruleForm.code\"\n                minlength=\"6\"\n                maxlength=\"6\"\n              ></el-input\n            ></el-col>\n            <el-col :span=\"8\"\n              ><el-button type=\"success\" class=\"block\"\n                >Get Code</el-button\n              ></el-col\n            >\n          </el-row>\n        </el-form-item>\n        <el-form-item>\n          <el-button\n            type=\"danger\"\n            class=\"login_btn block\"\n            @click=\"submitForm('ruleForm')\"\n            >Submit</el-button\n          >\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  validate_email,\n  validate_password,\n  stripscript\n} from \"@/utils/validate\";\nexport default {\n  name: \"Login\",\n  data() {\n    //validate email\n    const validateEmail = (rule, value, callback) => {\n      let regEmail = validate_email(value);\n      if (value === \"\") {\n        callback(new Error(\"Please input the email\"));\n      } else if (!regEmail) {\n        callback(new Error(\"Please input the email in right format\"));\n      } else {\n        callback();\n      }\n    };\n    //validate password\n    const validatePassword = (rule, value, callback) => {\n      //fillter the input\n      this.ruleForm.password = stripscript(value);\n      value = this.ruleForm.password;\n      let regPassword = validate_password(value);\n      if (value === \"\") {\n        callback(new Error(\"Please input the password\"));\n      } else if (!regPassword) {\n        callback(\n          new Error(\n            \"The length must be larger than 5 and smaller than 20, including numbers and letters\"\n          )\n        );\n      } else {\n        callback();\n      }\n    };\n    //validate retype password\n    const validateRetypePassword = (rule, value, callback) => {\n      //fillter the input\n      this.ruleForm.password_retype = stripscript(value);\n      value = this.ruleForm.password_retype;\n      if (value === \"\") {\n        callback(new Error(\"please retype password\"));\n      } else if (value != this.ruleForm.password) {\n        callback(new Error(\"retyped password doesn't match\"));\n      } else {\n        callback();\n      }\n    };\n\n    //validate code\n    const validateCode = (rule, value, callback) => {\n      //fillter the input\n      this.ruleForm.code = stripscript(value);\n      value = this.ruleForm.code;\n      if (value === \"\") {\n        callback(new Error(\"Please input the code\"));\n      } else if (value.length !== 6) {\n        callback(new Error(\"The code must be 6 digits long\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      menuTab: [\n        { txt: \"Login\", current: true, type: \"login\" },\n        { txt: \"Sign Up\", current: false, type: \"register\" }\n      ],\n      model: \"login\",\n      isActive: true,\n      //form data\n      ruleForm: {\n        email: \"\",\n        password: \"\",\n        password_retype: \"\",\n        code: \"\"\n      },\n      rules: {\n        email: [{ validator: validateEmail, trigger: \"blur\" }],\n        password: [{ validator: validatePassword, trigger: \"blur\" }],\n        password_retype: [\n          { validator: validateRetypePassword, trigger: \"blur\" }\n        ],\n        code: [{ validator: validateCode, trigger: \"blur\" }]\n      }\n    };\n  },\n  create() {},\n  mounted() {},\n  methods: {\n    toggleMenu(data) {\n      this.menuTab.forEach(elem => {\n        elem.current = false;\n      });\n      data.current = true;\n      this.model = data.type;\n    },\n    //form methods\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          alert(\"submit!\");\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n#login {\n  height: 100vh;\n  background-color: #344a5f;\n}\n.login-wrap {\n  width: 330px;\n  margin: auto;\n}\n.menu-tab {\n  text-align: center;\n}\nli {\n  display: inline-block;\n  width: 88px;\n  line-height: 36px;\n  font-size: 14px;\n  color: #fff;\n  border-radius: 2px;\n  cursor: pointer;\n}\n.current {\n  background-color: rgba(0, 0, 0, 0.1);\n}\n.loginForm {\n  margin-top: 29px;\n  label {\n    display: block;\n    margin-bottom: 3px;\n    font-size: 14px;\n    color: #fff;\n  }\n  .itemForm {\n    margin-bottom: 13px;\n  }\n  .block {\n    display: block;\n    width: 100%;\n  }\n  .login_btn {\n    margin-top: 19px;\n  }\n}\n</style>\n"]}]}